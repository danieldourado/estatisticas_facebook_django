{% extends "base.html" %}

{% block head_title %} 
    Pages | {{ block.super}}
{% endblock head_title %} 

{% block content %}

<h1>{{ object.pretty_name }}</h1>

<div class="row">
  <div class="col">
    <table class="table  table-sm table-striped">
    <tbody>
      <tr>
        <td><b>Short Name:</b></td>
        <td>{{ object.name }}</td>
      </tr>
      <tr>
        <td><b>Page Insights:</b></td>
        <td>{{ page_insights }}</a></td>
      </tr>
      <tr>
        <td><b>Posts:</b></td>
        <td>{{ posts }}(desde {{object.post_since.date}})</td>
      </tr>
      <tr>
        <td><b>Comentários:</b></td>
        <td>{{ comments }}({{comments_is_complete}})</td>
      </tr>
      <tr>
        <td><b>Reações:</b></td>
        <td>{{ reactions}}({{reactions_is_complete}})</td>
      </tr>
      <tr>
        <td><b>Reactions (Like) Total:</b></td>
        <td>{{ reactions_like}}</td>
      </tr>
      <tr>
        <td><b>Reactions (Love) Total:</b></td>
        <td>{{ reactions_love}}</td>
      </tr>
      <tr>
        <td><b>Reactions (Haha) Total:</b></td>
        <td>{{ reactions_haha}}</td>
      </tr>
      <tr>
        <td><b>Reactions (Wow) Total:</b></td>
        <td>{{ reactions_wow}}</td>
      </tr>
      <tr>
        <td><b>Reactions (Sad) Total:</b></td>
        <td>{{ reactions_sad}}</td>
      </tr>
      <tr>
        <td><b>Reactions (Angry) Total:</b></td>
        <td>{{ reactions_angry}}</td>
      </tr>
      <tr>
        <td><b>Usuários:</b></td>
        <td>{{ faceusers }}</td>
      </tr>
      <tr>
        <td><b>Top 10 angry:</b></td>
        <td>
          <ul>
          {% for hater in haters %}
              <li><a href="https://www.facebook.com/{{ hater.id}}">{{ hater.name}} ({{ hater.post_reactions_angry_total}})</a></li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td><b>Top 10 like:</b></td>
        <td>
          <ul>
          {% for liker in likers %}
              <li><a href="https://www.facebook.com/{{ liker.id}}">{{ liker.name}} ({{ liker.post_reactions_like_total}})</a></li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td><b>Top 10 love:</b></td>
        <td>
          <ul>
          {% for lover in lovers %}
              <li><a href="https://www.facebook.com/{{ lover.id}}">{{ lover.name}} ({{ lover.post_reactions_love_total}})</a></li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td><b>Top 10 sad:</b></td>
        <td>
          <ul>
          {% for sad in sads %}
              <li><a href="https://www.facebook.com/{{ sad.id}}">{{ sad.name}} ({{ sad.post_reactions_sad_total}})</a></li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td><b>Maiores commenters:</b></td>
        <td>
          <ul>
          {% for commenter in commenters %}
              <li><a href="https://www.facebook.com/{{ commenter.id}}">{{ commenter.name}} ({{ commenter.comments}})</a></li>
            {% endfor %}
          </ul>
        </td>
      </tr>
    
    </tbody>
    </table>
  </div>
  <div class="col">  

  </div>
</div>

<a href="{% url 'pages:insights-create' id=object.id %}" class="btn btn-info" role="button">Extrair insights</a>
<a href="{% url 'posts:create' pk=object.id %}" class="btn btn-info" role="button">Extrair Posts</a>
<a href="{% url 'reactions:create' pk=object.id %}" class="btn btn-info" role="button">Extrair Reações</a>
<a href="{% url 'comments:create' pk=object.id %}" class="btn btn-info" role="button">Extrair Comentários</a>

<a href="{% url 'pages:erase-page'      id=object.id %}" class="btn btn-danger" role="button">Apagar</a>

{% endblock content %}